<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=utf-8">
<title>Monitoring the Enterprise Server - Sun GlassFish Enterprise Server v3 Prelude Administration Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-11-01">
</head>

<body>


<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&#160;</td>
<td><a href="p12.html">Previous</a></td>
<td></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p14.html">Next</a></td>
</tr>
</table>


<a name="ablur"></a>Chapter&#160;10<h3>Monitoring the Enterprise Server</h3><a name="indexterm-404"></a><p>This chapter explains how to monitor the Sun GlassFish<sup>TM</sup> Enterprise Server v3 Prelude
components and services by using the <tt>asadmin</tt> command-line utility. Instructions for connecting JConsole are
also provided.</p><p>The following topics are addressed here:</p>
<ul><li><p><a href="#ablus">About Monitoring</a></p></li>
<li><p><a href="#ablvp">Configuring Monitoring</a></p></li>
<li><p><a href="#ablvs">Viewing Common Monitoring Data</a></p></li>
<li><p><a href="#ghmct">Viewing Comprehensive Monitoring Data </a></p></li>
<li><p><a href="#ghmgl">Connecting JConsole to Enterprise Server</a></p></li></ul>
<p>Instructions for monitoring by using the Administration Console are contained in the Administration
Console online help.</p>

<a name="ablus"></a><h3>About Monitoring</h3>
<a name="indexterm-405"></a><a name="indexterm-406"></a><p><b>Monitoring</b> is the process of reviewing the statistics of a system to improve
performance or solve problems. By monitoring the state of various components and services
deployed in the Enterprise Server, you can identify performance bottlenecks, predict failures, perform
root cause analysis, and ensure that everything is functioning as expected. Data gathered
by monitoring can also be useful in performance tuning and capacity planning.</p><p>The <tt>asadmin</tt> utility provides multiple ways of viewing monitoring data: by using the
<tt>monitor</tt> command to view common data, and by using the <tt>list</tt> and <tt>get</tt>
commands to view more comprehensive data.</p><p>The following topics are addressed here:</p>
<ul><li><p><a href="#ghbaz">How the Monitoring Tree Structure Works</a></p></li>
<li><p><a href="#ghbfq">Tools for Monitoring Enterprise Server</a></p></li></ul>


<a name="ghbaz"></a><h4>How the Monitoring Tree Structure Works</h4>
<a name="indexterm-407"></a><p>A <b>monitorable object</b> is a component, subcomponent, or service that can be monitored. Enterprise
Server uses a tree structure to track monitorable objects. Because the tree is
dynamic, the tree changes as components of the Enterprise Server instance are added
or removed. </p><p>In the tree, a monitorable object can have child objects (nodes) that represent
exactly what can be monitored for that object. All child objects are addressed
using the dot (.) character as a separator. These constructed names are referred
to as <b>dotted names</b>. </p><p>The following are monitorable objects for the instance <tt>server</tt>:</p><pre>server.applications
server.http-service
server.jvm
server.web</pre><p>Dotted names can also address specific attributes in monitorable objects. For example, the
<tt>jvm</tt> type has a <tt>memory</tt> attribute called <tt>maxheapsize-count</tt>. The following dotted name addresses the
attribute:</p><pre>server.jvm.memory.maxheapsize-count</pre><p>Although an object is monitorable, it is not necessarily being monitored. For instructions
on activating monitoring, see <a href="#ablvp">Configuring Monitoring</a>. </p>

<a name="abluv"></a><h5>Tree Structure of Monitorable Objects</h5>
<a name="indexterm-408"></a><p>Each monitorable object has a hierarchical tree structure. In the tree, a replaceable
such as *<i>statistics</i> represents the name of the attribute that you want to
show statistics for. </p><p>This section shows the node tree hierarchies of the following monitorable objects:</p>
<ul><li><p><a href="#abluw">Applications Tree Hierarchy</a></p></li>
<li><p><a href="#ghlin">HTTP Service Tree Hierarchy</a></p></li>
<li><p><a href="#ghlic">JVM Tree Hierarchy</a></p></li>
<li><p><a href="#ghlff">Web Tree Hierarchy</a></p></li></ul>


<a name="abluw"></a><h5>Applications Tree Hierarchy</h5>
<p>The applications tree contains the following nodes:</p><pre>server.applications
       <i>application-name</i>
           <i>virtual-server</i>
                request
                   *<i>statistic</i> 
                    </pre><p>An example dotted name might be <tt>server.applications.hello.server.request.maxtime-count</tt>. For available attributes, see <a href="#ghptu">Applications Statistics</a>.</p>

<a name="ghlin"></a><h5>HTTP Service Tree Hierarchy</h5>
<p>The <tt>http-service</tt> tree contains the following nodes:</p><pre>server.http-service
       <i>virtual-server</i>
           request
               *<i>statistic</i>
       _asadmin
           request
               *<i>statistic</i></pre><p>An example dotted name might be <tt>server.http-service.virtual-server1.request.requestcount-count</tt>. For available attributes, see <a href="#ablvg">HTTP Service Statistics</a>.</p>

<a name="ghlic"></a><h5>JVM Tree Hierarchy</h5>
<p>The <tt>jvm</tt> tree contains the following nodes:</p><pre>server.jvm
           class-loading-system
           compilation-system
           garbage-collectors
           memory
           operating-system
           runtime </pre><p>An example dotted name might be <tt>server.jvm.memory.maxheapsize-count</tt>. For available attributes, see <a href="#ablvm">Java Virtual Machine (JVM) Statistics</a>.</p>

<a name="ghlff"></a><h5>Web Tree Hierarchy</h5>
<p>The <tt>web</tt> tree contains the following nodes:</p><pre>server.web
           jsp
              *<i>statistic</i>
           servlet
              *<i>statistic</i>
           session
              *<i>statistic</i>
           request
              *<i>statistic</i></pre><p>An example dotted name might be <tt>server.web.servlet.activeservletsloadedcount-count</tt>. For available attributes, see <a href="#ghljx">Web Module Common Statistics</a>.</p>

<a name="ghbfq"></a><h4>Tools for Monitoring Enterprise Server</h4>
<a name="indexterm-409"></a><a name="indexterm-410"></a><p>The following <tt>asadmin</tt> commands are provided for monitoring the services and components of
Enterprise Server:</p>
<ul><li><p>The <tt>set</tt> command is used to set the monitoring levels for monitorable objects, essentially turning monitoring on or off for Enterprise Server components and services. For instructions, see <a href="#ablvp">Configuring Monitoring</a>.</p></li>
<li><p> The <tt>monitor <tt>--type</tt></tt> command is used to display basic data for a particular type of monitorable object. For instructions, see <a href="#ablvs">Viewing Common Monitoring Data</a>.</p></li>
<li><p>The <tt>list</tt> <tt>--monitor</tt> command is used to display available monitorable objects. For guidelines and instructions, see <a href="#ablwh">Guidelines for Using the <tt>list</tt> and <tt>get</tt> Commands for Monitoring</a>.</p></li>
<li><p>The <tt>get</tt> command is used to display comprehensive data, such as the attributes and values for a dotted name. The <tt>get</tt> command used with a wildcard parameter displays all available attributes for any monitorable object. For instructions on viewing comprehensive data, see <a href="#ablvv">To View Comprehensive Monitoring Data</a>.</p></li></ul>


<a name="ablvp"></a><h3>Configuring Monitoring</h3>
<a name="indexterm-411"></a><a name="indexterm-412"></a><a name="indexterm-413"></a><p>By default, monitoring is <b>not</b> enabled for Enterprise Server components and services. When
you set the monitoring level, you are enabling monitoring for that monitorable object.
You can choose to leave monitoring off for objects that do not need
to be monitored. </p><p>The following tasks are addressed here:</p>
<ul><li><p><a href="#ablvr">To Enable Monitoring </a></p></li>
<li><p><a href="#gglcu">To Disable Monitoring</a></p></li></ul>


<a name="ablvr"></a><h4>To Enable Monitoring </h4><a name="indexterm-414"></a><a name="indexterm-415"></a><a name="indexterm-416"></a><a name="indexterm-417"></a><p>The <a href="http://docs.sun.com/doc/820-4497/set-1?a=view"><tt>set</tt>(1)</a> command enables monitoring for Enterprise Server components and services. By setting
the monitoring level to HIGH or LOW, you start monitoring for that service
or component. For the Prelude release of Enterprise Server, there is no difference between
the HIGH and LOW settings.</p><ol>
<li><b>Determine which services and components are currently enabled for monitoring. </b><pre><tt><b>asadmin get server.monitoring-service.module-monitoring-levels.*</b></tt></pre><p>The following example output shows that monitoring for the HTTP service is not
enabled (OFF), but other objects are enabled:</p><pre>configs.config.server-config.monitoring-service.module-monitoring-levels.web-container=HIGH
       configs.config.server-config.monitoring-service.module-monitoring-levels.http-service=OFF
           configs.config.server-config.monitoring-service.module-monitoring-levels.jvm=HIGH </pre></li>
<li><b>Enable monitoring for each service or component that you want to monitor.</b><p>The following example command enables monitoring for the HTTP service by setting the
monitoring level to HIGH:</p><pre><tt><b>asadmin set server.monitoring-service.module-monitoring-levels.http-service=HIGH</b></tt></pre></li></ol><h6>See Also</h6><p>To see the full syntax and options of the command, type <tt>asadmin set <tt>--help</tt></tt>
at the command line.</p>

<a name="gglcu"></a><h4>To Disable Monitoring</h4><a name="indexterm-418"></a><a name="indexterm-419"></a><a name="indexterm-420"></a><a name="indexterm-421"></a><p>The <a href="http://docs.sun.com/doc/820-4497/set-1?a=view"><tt>set</tt>(1)</a> command enables you to disable monitoring for Enterprise Server services and
components.</p><ol>
<li><b>Determine which services and components currently are enabled for monitoring. </b><pre><tt><b>asadmin get server.monitoring-service.module-monitoring-levels.*</b></tt></pre><p>The following example output shows that monitoring is enabled for <tt>web-container</tt>, <tt>http-service</tt>,
and <tt>jvm</tt>:</p><pre>configs.config.server-config.monitoring-service.module-monitoring-levels.web-container=HIGH
       configs.config.server-config.monitoring-service.module-monitoring-levels.http-service=HIGH
              configs.config.server-config.monitoring-service.module-monitoring-levels.jvm=HIGH </pre></li>
<li><b>Disable monitoring for a service or component that you do not want to
monitor.</b><p>The following example command disables monitoring for the HTTP service by setting the
monitoring level to OFF:</p><pre><tt><b>asadmin set server.monitoring-service.module-monitoring-levels.http-service=OFF</b></tt></pre></li></ol><h6>See Also</h6><p>To see the full syntax and options of the command, type <tt>asadmin set <tt>--help</tt></tt>
at the command line.</p>

<a name="ablvs"></a><h3>Viewing Common Monitoring Data</h3>
<a name="indexterm-422"></a><a name="indexterm-423"></a><a name="indexterm-424"></a><p>The <tt>asadmin monitor</tt> command enables you to display basic data on commonly-monitored objects. </p>
<ul><li><p><a href="#gelol">To View Common Monitoring Data</a></p></li>
<li><p><a href="#ghmdc">Common Monitoring Statistics</a></p></li></ul>


<a name="gelol"></a><h4>To View Common Monitoring Data</h4><p>Use the <tt>--type</tt> option of the <tt>monitor</tt> command to specify the object
for which you want to display data. If you use the <tt>monitor</tt> command
without specifying a type, an error message is displayed. </p><p>Output from the command is displayed continuously in a tabular format; the <tt>--interval</tt>
option can be used to display output at a particular interval (the default
is 30 seconds).</p><h6>Before You Begin</h6><p>A monitorable object must be configured for monitoring before you can display data
on the object. See <a href="#ablvr">To Enable Monitoring </a>.</p><ol>
<li><b>Determine which type of monitorable object you want to monitor.</b><p>Your choices for v3 Prelude are <tt>jvm</tt>, <tt>httplistener</tt>, and <tt>webmodule</tt>.</p></li>
<li><b>Request the monitoring data by using the <a href="http://docs.sun.com/doc/820-4497/monitor-1?a=view"><tt>monitor</tt>(1)</a> command. </b></li></ol><a name="ghljw"></a><h6>Example&#160;10-1 Viewing Common Monitoring Data</h6><p>The following example command requests common data for type <tt>jvm</tt> on instance <tt>server</tt>:</p><pre><tt><b>asadmin monitor --type jvm server</b></tt></pre><p>Information similar to the following is displayed:</p><pre>UpTime(ms)                          Heap and NonHeap Memory(bytes)
current                   min        max        low        high       count

9437266                   8585216    619642880  0          0          93093888
9467250                   8585216    619642880  0          0          93093888</pre><h6>See Also</h6><p>To see the full syntax and options of the command, type <tt>asadmin monitor <tt>--help</tt></tt>
at the command line.</p>

<a name="ghmdc"></a><h4>Common Monitoring Statistics</h4>
<a name="indexterm-425"></a><a name="indexterm-426"></a><p>Common monitoring statistics are described in the following sections:</p>
<ul><li><p><a href="#ghltk">HTTP Listener Common Statistics</a></p></li>
<li><p><a href="#ghlvm">JVM Common Statistics</a></p></li>
<li><p><a href="#ghljx">Web Module Common Statistics</a></p></li></ul>


<a name="ghltk"></a><h5>HTTP Listener Common Statistics</h5>
<a name="indexterm-427"></a><a name="indexterm-428"></a><p>The statistics available for the <tt>httplistener</tt> type are shown in the following table.</p><a name="ghlta"></a><h6>Table&#160;10-1 HTTP Listener Common Monitoring Statistics</h6><table><col width="16%"><col width="83%"><tr><th align="left" valign="top" scope="column"><p>Statistic</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ec</tt></p></td>
<td align="left" valign="top" scope="row"><p>Error
count. Cumulative value of the error count</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>mt</tt></p></td>
<td align="left" valign="top" scope="row"><p>Maximum time. Longest response time for
a request; not a cumulative value, but the largest response time from among
the response times</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>pt</tt></p></td>
<td align="left" valign="top" scope="row"><p>Processing time. Cumulative value of the times taken to process
each request, with processing time being the average of request processing times over request</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>rc</tt></p></td>
<td align="left" valign="top" scope="row"><p>Request
count. Cumulative number of requests processed so far</p></td>
</tr>
</table>

<a name="ghlvm"></a><h5>JVM Common Statistics</h5>
<a name="indexterm-429"></a><a name="indexterm-430"></a><p>The statistics available for the <tt>jvm</tt> type are shown in the following table.</p><a name="ghlsl"></a><h6>Table&#160;10-2 JVM Common Monitoring Statistics</h6><table><col width="18%"><col width="81%"><tr><th align="left" valign="top" scope="column"><p>Statistic</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Amount
of memory (in bytes) that is guaranteed to be available for use by
the JVM machine</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>high</tt></p></td>
<td align="left" valign="top" scope="row"><p>Retained for compatibility with other releases</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>low</tt></p></td>
<td align="left" valign="top" scope="row"><p>Retained for compatibility with other
releases</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>min</tt></p></td>
<td align="left" valign="top" scope="row"><p>Initial amount of memory (in bytes) that the JVM machine requests from the
operating system for memory management during startup</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>UpTime</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of milliseconds that the JVM
machine has been running since it was last started</p></td>
</tr>
</table>

<a name="ghljx"></a><h5>Web Module Common Statistics</h5>
<a name="indexterm-431"></a><a name="indexterm-432"></a><p>The statistics available for the <tt>webmodule</tt> type are shown in the following table.</p><a name="ghqly"></a><h6>Table&#160;10-3 Web Module Common Monitoring Statistics</h6><table><col width="18%"><col width="81%"><tr><th align="left" valign="top" scope="column"><p>Statistic</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ajlc</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number
of active JavaServer Pages<sup>TM</sup> (JSP<sup>TM</sup>) technology pages that are loaded</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>asc</tt></p></td>
<td align="left" valign="top" scope="row"><p>Current active sessions</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>aslc</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of
active servlets that are loaded</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ast</tt></p></td>
<td align="left" valign="top" scope="row"><p>Total active sessions</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>mjlc</tt></p></td>
<td align="left" valign="top" scope="row"><p>Maximum number of JSP pages that
are loaded</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>mslc</tt></p></td>
<td align="left" valign="top" scope="row"><p>Maximum number of servlets that are loaded</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>rst</tt></p></td>
<td align="left" valign="top" scope="row"><p>Total rejected sessions</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>st</tt></p></td>
<td align="left" valign="top" scope="row"><p>Total sessions</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>tjlc</tt></p></td>
<td align="left" valign="top" scope="row"><p>Total number
of JSP pages that are loaded</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>tslc</tt></p></td>
<td align="left" valign="top" scope="row"><p>Total number of servlets that are loaded</p></td>
</tr>
</table>

<a name="ghmct"></a><h3>Viewing Comprehensive Monitoring Data </h3>
<a name="indexterm-433"></a><a name="indexterm-434"></a><p>By applying the <tt>list</tt> and <tt>get</tt> commands against the tree structure using dotted
names, you can display more comprehensive monitoring data.</p><p>The following topics are addressed here:</p>
<ul><li><p><a href="#ablwh">Guidelines for Using the <tt>list</tt> and <tt>get</tt> Commands for Monitoring</a></p></li>
<li><p><a href="#ablvv">To View Comprehensive Monitoring Data</a></p></li>
<li><p><a href="#ghmcn">Comprehensive Monitoring Statistics</a></p></li></ul>


<a name="ablwh"></a><h4>Guidelines for Using the <tt>list</tt> and <tt>get</tt> Commands for Monitoring</h4>
<a name="indexterm-435"></a><a name="indexterm-436"></a><a name="indexterm-437"></a><p>The underlying assumptions for using the <tt>list</tt> and <tt>get</tt> commands with dotted
names are:</p>
<ul><li><p>Any <tt>list</tt> command that specifies a dotted name followed by a wildcard of the form <tt>.*</tt> lists a hierarchical tree of child nodes from the specified node. For example, the following command lists all children of the <tt>applications</tt> node, their subsequent child nodes, and so on: </p><p><tt>list</tt> <tt>--monitor=true server.applications.*</tt> </p></li>
<li><p>Any <tt>list</tt> command that specifies a dotted name preceded or followed by a wildcard of the form <i>*dottedname</i> or <i>dotted * name</i> or <i>dottedname *</i> lists all nodes and their children that match the regular expression created by the specified matching pattern.</p></li>
<li><p>A <tt>get</tt> command followed by a <tt>.*</tt> or a <tt>*</tt> gets the set of attributes and their values that belong to the node specified.</p></li></ul>
<p>The following tables show the command, dotted name, and corresponding output at the
top level (server) of the tree.</p><a name="ghlyv"></a><h6>Table&#160;10-4 Server-Level Monitoring Commands Output</h6><table><col width="23%"><col width="19%"><col width="57%"><tr><th align="left" valign="top" scope="column"><p>Command</p></th>
<th align="left" valign="top" scope="column"><p>Dotted Name</p></th>
<th align="left" valign="top" scope="column"><p>Output</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>list --monitor=true</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>server.*</tt></p></td>
<td align="left" valign="top" scope="row"><p>Hierarchy of child nodes below server
node</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>get --monitor=true</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>server.*</tt></p></td>
<td align="left" valign="top" scope="row"><p>Data for all monitorable objects under the top-level server</p></td>
</tr>
</table><p>The following table shows the command, dotted name, and corresponding output for the
JVM level.</p><a name="ggnqg"></a><h6>Table&#160;10-5 JVM-Level Monitoring Commands Output</h6><table><col width="32%"><col width="19%"><col width="48%"><tr><th align="left" valign="top" scope="column"><p>Command</p></th>
<th align="left" valign="top" scope="column"><p>Dotted Name</p></th>
<th align="left" valign="top" scope="column"><p>Output</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>list --monitor=true</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>server.jvm.*</tt></p></td>
<td align="left" valign="top" scope="row"><p>Monitorable objects under the JVM node</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>get --monitor=true</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>server.jvm.*</tt></p></td>
<td align="left" valign="top" scope="row"><p>Attributes and values corresponding to
JVM attributes</p></td>
</tr>
</table><p>The following table shows the command, dotted name, and corresponding output for the
web level.</p><a name="ghlma"></a><h6>Table&#160;10-6 Web Container-Level Monitoring Commands Output</h6><table><col width="32%"><col width="19%"><col width="48%"><tr><th align="left" valign="top" scope="column"><p>Command</p></th>
<th align="left" valign="top" scope="column"><p>Dotted Name</p></th>
<th align="left" valign="top" scope="column"><p>Output</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>list --monitor=true</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>server.web.*</tt></p></td>
<td align="left" valign="top" scope="row"><p>Monitorable objects under the web service node</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>get --monitor=true</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>server.web.*</tt></p></td>
<td align="left" valign="top" scope="row"><p>Attributes and values that
correspond to web attributes</p></td>
</tr>
</table>

<a name="ablvv"></a><h4>To View Comprehensive Monitoring Data</h4><a name="indexterm-438"></a><a name="indexterm-439"></a><a name="indexterm-440"></a><p>The <tt>monitor</tt> command is useful in many situations, however, it does not offer
the complete list of all monitorable objects. To work with comprehensive data for
an object type, use the <tt>list <tt>--monitor</tt></tt> and the <tt>get <tt>--monitor</tt></tt> commands followed by
the dotted name of a monitorable object.</p><h6>Before You Begin</h6><p>A monitorable object must be configured for monitoring before you can display information
on the object. See <a href="#ablvr">To Enable Monitoring </a> if needed..</p><ol>
<li><b>List the objects that are enabled for monitoring by using the <a href="http://docs.sun.com/doc/820-4497/list-1?a=view"><tt>list</tt>(1)</a>
command.</b><p> For example, the following command lists all components and services that have monitoring
enabled for instance <tt>server</tt>:</p><pre><tt><b>asadmin list --monitor=true server.*</b></tt></pre><p>Information similar to the following is displayed:</p><pre>server.web
server.jvm
server.http-service
server.applications</pre></li>
<li><b>Get data for a monitored component or service by using the <a href="http://docs.sun.com/doc/820-4497/get-1?a=view"><tt>get</tt>(1)</a>
command.</b></li></ol><a name="ghlre"></a><h6>Example&#160;10-2 Viewing Attributes for a Specific Type</h6><p>The following example command gets information on all the attributes for object type
<tt>jvm</tt> on instance <tt>server</tt>:</p><pre><tt><b>asadmin get --monitor=true server.jvm.*</b></tt></pre><p>Information similar to the following is displayed:</p><pre>server.jvm.class-loading-system.loadedclasscount-count = 3715
server.jvm.class-loading-system.totalloadedclasscount-count = 3731
server.jvm.class-loading-system.unloadedclasscount-count = 16
server.jvm.compilation-system.name-current = HotSpot Client Compiler
server.jvm.compilation-system.totalcompilationtime-count = 769
server.jvm.garbage-collectors.Copy.collectioncount-count = 285
server.jvm.garbage-collectors.Copy.collectiontime-count = 980
server.jvm.garbage-collectors.MarkSweepCompact.collectioncount-count = 2
server.jvm.garbage-collectors.MarkSweepCompact.collectiontime-count = 383
server.jvm.memory.committedheapsize-count = 23498752
server.jvm.memory.committednonheapsize-count = 13598720
server.jvm.memory.initheapsize-count = 0
server.jvm.memory.initnonheapsize-count = 8585216
server.jvm.memory.maxheapsize-count = 66650112
server.jvm.memory.maxnonheapsize-count = 100663296
server.jvm.memory.objectpendingfinalizationcount-count = 0
server.jvm.memory.usedheapsize-count = 19741184
server.jvm.memory.usednonheapsize-count = 13398352
server.jvm.operating-system.arch-current = x86
server.jvm.operating-system.availableprocessors-count = 2
server.jvm.operating-system.name-current = Windows XP
server.jvm.operating-system.version-current = 5.1
server.jvm.runtime.classpath-current = glassfish.jar
server.jvm.runtime.inputarguments-current = []
server.jvm.runtime.managementspecversion-current = 1.0
server.jvm.runtime.name-current = 4372@ABBAGANI_WORK
server.jvm.runtime.specname-current = Java Virtual Machine Specification
server.jvm.runtime.specvendor-current = Sun Microsystems Inc.
server.jvm.runtime.specversion-current = 1.0
server.jvm.runtime.uptime-count = 84813
server.jvm.runtime.vmname-current = Java HotSpot(TM) Client VM
server.jvm.runtime.vmvendor-current = Sun Microsystems Inc.
server.jvm.runtime.vmversion-current = 1.5.0_11-b03</pre><a name="ghbgv"></a><h6>Example&#160;10-3 Viewing Monitorable Applications</h6><p>The following example command lists all the monitorable applications for instance <tt>server</tt>:</p><pre><tt><b>asadmin list --monitor=true server.applications.*</b></tt></pre><p>Information similar to the following is displayed:</p><pre>server.applications.app1
server.applications.app2
server.applications.app1.virtual-server1
server.applications.app2.virtual-server1 </pre><a name="ghbfj"></a><h6>Example&#160;10-4 Viewing Attributes From an Application</h6><p>The following example command gets information on all the attributes for application <tt>hello</tt>:</p><pre><tt><b>asadmin get --monitor=true server.applications.hello.*</b></tt></pre><p>Information similar to the following is displayed:</p><pre>server.applications.hello.server.activatedsessionstotal-count = 0
server.applications.hello.server.activejspsloadedcount-count = 1
server.applications.hello.server.activeservletsloadedcount-count = 1
server.applications.hello.server.activesessionscurrent-count = 1
server.applications.hello.server.activesessionshigh-count = 1
server.applications.hello.server.errorcount-count = 0
server.applications.hello.server.expiredsessionstotal-count = 0
server.applications.hello.server.maxjspsloadedcount-count = 1
server.applications.hello.server.maxservletsloadedcount-count = 0
server.applications.hello.server.maxtime-count = 0
server.applications.hello.server.passivatedsessionstotal-count = 0
server.applications.hello.server.persistedsessionstotal-count = 0
server.applications.hello.server.processingtime-count = 0.0
server.applications.hello.server.rejectedsessionstotal-count = 0
server.applications.hello.server.requestcount-count = 0
server.applications.hello.server.sessionstotal-count = 
server.applications.hello.server.totaljspsloadedcount-count = 0
server.applications.hello.server.totalservletsloadedcount-count = 0</pre><a name="ghbge"></a><h6>Example&#160;10-5 Viewing a Specific Attribute</h6><p>The following example command gets information on <tt>jvm</tt> attribute <tt>runtime.vmversion-current</tt> on an
instance <tt>server</tt>:</p><pre><tt><b>asadmin get --monitor=true server.jvm.runtime.vmversion-current</b></tt></pre><p>Information similar to the following is displayed:</p><pre>server.jvm.runtime.vmversion-current = 10.0-b23</pre>

<a name="ghmcn"></a><h4>Comprehensive Monitoring Statistics</h4>
<a name="indexterm-441"></a><p>You can get comprehensive monitoring statistics by forming a dotted name that specifies
the statistic you are looking for. For example, the following dotted name will
get the cumulative number of requests for the HTTP service on <tt>virutal-server1</tt>: </p><p><tt>server.http-service.virtual-server1.request.requestcount-count</tt></p><p>The tables in the following sections list the statistics that are available for
each monitorable object:</p>
<ul><li><p><a href="#ghptu">Applications Statistics</a></p></li>
<li><p><a href="#ablvg">HTTP Service Statistics</a></p></li>
<li><p><a href="#ablvm">Java Virtual Machine (JVM) Statistics</a></p></li>
<li><p><a href="#ablvf">Web Statistics</a></p></li></ul>


<a name="ghptu"></a><h5>Applications Statistics</h5>
<a name="indexterm-442"></a><a name="indexterm-443"></a><p>Applications fits into the tree of objects as shown in <a href="#abluw">Applications Tree Hierarchy</a>. Use
the following dotted name pattern to get applications statistics:</p><pre>server.applications.<i>application-name</i>.<i>virtual-server</i>.request.<i>statistic</i></pre><p>Statistics available for applications for are shown in the following table.</p><a name="ghlld"></a><h6>Table&#160;10-7 Applications Comprehensive Statistics</h6><table><col width="40%"><col width="59%"><tr><th align="left" valign="top" scope="column"><p>Statistic</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>activatedsessionstotal-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Total number of
activated sessions</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>activejspsloadedcount-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of currently loaded JSPs</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>activeservletsloadedcount-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of currently loaded servlets</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>activesessionscurrent-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of currently
active sessions</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>activesessionshigh-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Maximum number of concurrently active sessions</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>errorcount-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Cumulative value of the error count,
with error count representing the number of cases where the response code was
greater than or equal to 400</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>expiredsessionstotal-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Total number of expired sessions</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>maxjspsloadedcount-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Maximum number of
JSPs loaded which were active</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>maxservletsloadedcount-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Maximum number of servlets loaded which were active</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>maxtime-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Longest
response time for a request; not a cumulative value, but the largest response
time from among the response times</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>passivatedsessionstotal-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Total number of passivated sessions</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>persistedsessionstotal-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Total number of
persisted sessions</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>processingtime-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Cumulative value of the times taken to process each request, with
processing time representing the average of request processing times over the request count</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>rejectedsessionstotal-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Total number
of rejected sessions</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>requestcount-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Cumulative number of the requests processed so far</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>sessionstotal-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Total number of
sessions created</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>totaljspsloadedcount-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Cumulative number of JSP pages that have been loaded into the
web module</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>totalservletsloadedcount-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Cumulative number of servlets that have been loaded into the web
module</p></td>
</tr>
</table>

<a name="ablvg"></a><h5>HTTP Service Statistics</h5>
<a name="indexterm-444"></a><a name="indexterm-445"></a><p>The HTTP service fits into the tree of objects as shown in
<a href="#ghlin">HTTP Service Tree Hierarchy</a>. </p><p>The HTTP service statistics are described in the following sections:</p>
<ul><li><p><a href="#ghqat">HTTP Service asadmin Statistics</a></p></li>
<li><p><a href="#ghqdi">HTTP Service Virtual Server Statistics</a></p></li></ul>


<a name="ghqat"></a><h5>HTTP Service asadmin Statistics</h5>
<a name="indexterm-446"></a><a name="indexterm-447"></a><p>Use the following dotted name pattern for the HTTP service <tt>asadmin</tt> statistics:</p><pre>server.http-service._asadmin.request.<i>statistic</i></pre><p>The <tt>asadmin</tt> statistics available for HTTP service for are shown in the following
table.</p><a name="ghrcl"></a><h6>Table&#160;10-8 HTTP Service <tt>asadmin</tt> Statistics</h6><table><col width="33%"><col width="66%"><tr><th align="left" valign="top" scope="column"><p>Statistic</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>count200-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of responses with a status code equal to 200</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>count2xx-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of responses
with a status code in the 2xx range</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>count302-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of responses with a
status code equal to 302</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>count304-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of responses with a status code equal
to 304</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>count3xx-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of responses with a status code equal in the 3xx
range</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>count400-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of responses with a status code equal to 400</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>count401-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of responses
with a status code equal to 401</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>count403-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of responses with a status
code equal to 403</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>count4xx-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of responses with a status code equal in
the 4xx range</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>count503-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of responses with a status code equal to 503</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>count5xx-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number
of responses with a status code equal in the 5xx range</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>countother-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of
responses with a status code outside the 2xx, 3xx, 4xx, and 5xx range</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>errorcount-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Cumulative
value of the error count, with error count representing the number of cases
where the response code was greater than or equal to 400</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>maxtime-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Longest response
time for a request; not a cumulative value, but the largest response time
from among the response times</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>processingtime-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Cumulative value of the times taken to process
each request, with processing time being the average of request processing times over
the request count</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>requestcount-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Cumulative number of requests processed so far</p></td>
</tr>
</table>

<a name="ghqdi"></a><h5>HTTP Service Virtual Server Statistics</h5>
<a name="indexterm-448"></a><a name="indexterm-449"></a><p>Use the following dotted name pattern for HTTP service virtual server statistics:</p><pre>server.http-service.<i>virtual-server</i>.request.<i>statistic</i></pre><p>The HTTP service statistics for virtual servers are shown in the following table.</p><a name="gelnm"></a><h6>Table&#160;10-9 HTTP Service Virtual Server Statistics</h6><table><col width="33%"><col width="66%"><tr><th align="left" valign="top" scope="column"><p>Statistic</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>count200-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number
of responses with a status code equal to 200</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>count2xx-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of responses with
a status code in the 2xx range</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>count302-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of responses with a status
code equal to 302</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>count304-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of responses with a status code equal to
304</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>count3xx-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of responses with a status code equal in the 3xx range</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>count400-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number
of responses with a status code equal to 400</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>count401-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of responses with
a status code equal to 401</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>count403-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of responses with a status code
equal to 403</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>count404-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of responses with a status code equal to 404</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>count4xx-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number
of responses with a status code equal in the 4xx range</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>count503-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of
responses with a status code equal to 503</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>count5xx-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of responses with a
status code equal in the 5xx range</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>countother-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of responses with a status
code outside the 2xx, 3xx, 4xx, and 5xx range</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>errorcount-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Cumulative value of the error
count, with error count representing the number of cases where the response code
was greater than or equal to 400</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>maxtime-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Longest response time for a request;
not a cumulative value, but the largest response time from among the response
times</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>processingtime-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Cumulative value of the times taken to process each request, with processing time
being the average of request processing times over the request count</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>requestcount-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Cumulative number
of requests processed so far</p></td>
</tr>
</table>

<a name="ablvm"></a><h5>Java Virtual Machine (JVM) Statistics</h5>
<a name="indexterm-450"></a><a name="indexterm-451"></a><p>The statistics that are available for the JVM machine are shown in
the following sections:</p>
<ul><li><p><a href="#ablvn">JVM Class Loading System Statistics</a></p></li>
<li><p><a href="#ghqfh">JVM Compilation System Statistics</a></p></li>
<li><p><a href="#ghqea">JVM Garbage Collectors Statistics</a></p></li>
<li><p><a href="#ghqdn">JVM Memory Statistics</a></p></li>
<li><p><a href="#ghqec">JVM Operating System Statistics</a></p></li>
<li><p><a href="#ghqby">JVM Runtime Statistics</a></p></li></ul>


<a name="ablvn"></a><h5>JVM Class Loading System Statistics</h5>
<a name="indexterm-452"></a><a name="indexterm-453"></a><p>Use the following dotted name pattern for JVM class loading system statistics:</p><pre>server.jvm.class-loading-system.<i>statistic</i></pre><p>The statistics that are available for class loading in the JVM for
Java SE are shown in the following table.</p><a name="gelow"></a><h6>Table&#160;10-10 JVM Statistics for Java SE Class Loading</h6><table><col width="41%"><col width="58%"><tr><th align="left" valign="top" scope="column"><p>Statistic</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>loadedclasscount-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of classes that are currently
loaded in the JVM</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>totalloadedclasscount-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Total number of classes that have been loaded since
the JVM began execution</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>unloadedclasscount-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of classes that have been unloaded from the
JVM since the JVM began execution</p></td>
</tr>
</table>

<a name="ghqfh"></a><h5>JVM Compilation System Statistics</h5>
<a name="indexterm-454"></a><a name="indexterm-455"></a><p>Use the following dotted name pattern for JVM compilation system statistics:</p><pre>server.jvm.compilation-system.<i>statistic</i></pre><p>The statistics that are available for compilation in the JVM for Java SE
are shown in the following table.</p><a name="gelnt"></a><h6>Table&#160;10-11 JVM Statistics for Java SE Compilation</h6><table><col width="40%"><col width="59%"><tr><th align="left" valign="top" scope="column"><p>Statistic</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>name-current</tt></p></td>
<td align="left" valign="top" scope="row"><p>Name of the current compiler</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>totalcompilationtime-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Accumulated time (in
milliseconds) spent in compilation</p></td>
</tr>
</table>

<a name="ghqea"></a><h5>JVM Garbage Collectors Statistics</h5>
<a name="indexterm-456"></a><a name="indexterm-457"></a><p>Use the following dotted name pattern for JVM garbage collectors statistics:</p><pre>server.jvm.garbage-collectors.<i>statistic</i></pre><p>The statistics that are available for garbage collection in the JVM for Java
SE are shown in the following table.</p><a name="gelox"></a><h6>Table&#160;10-12 JVM Statistics for Java SE Garbage Collectors</h6><table><col width="40%"><col width="59%"><tr><th align="left" valign="top" scope="column"><p>Statistic</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>collectioncount-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Total number of collections that have
occurred</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>collectiontime-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Accumulated collection time (in milliseconds)</p></td>
</tr>
</table>

<a name="ghqdn"></a><h5>JVM Memory Statistics</h5>
<a name="indexterm-458"></a><a name="indexterm-459"></a><p>Use the following dotted name pattern for JVM memory statistics:</p><pre>server.jvm.memory.<i>statistic</i></pre><p>The statistics that are available for memory in the JVM for Java
SE are shown in the following table.</p><a name="gelnx"></a><h6>Table&#160;10-13 JVM Statistics for Java SE Memory</h6><table><col width="46%"><col width="53%"><tr><th align="left" valign="top" scope="column"><p>Statistic</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>committedheapsize-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Amount of heap memory (in bytes) that
is committed for the JVM to use</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>committednonheapsize-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Amount of non-heap memory (in bytes)
that is committed for the JVM to use</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>initheapsize-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Size of the heap initially requested
by the JVM</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>initnonheapsize-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Size of the non-heap area initially requested by the JVM</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>maxheapsize-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Maximum
amount of heap memory (in bytes) that can be used for memory management</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>maxnonheapsize-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Maximum
amount of non-heap memory (in bytes) that can be used for memory management</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>objectpendingfinalizationcount-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Approximate
number of objects that are pending finalization</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>usedheapsize-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Size of the heap currently in
use</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>usednonheapsize-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Size of the non-heap area currently in use</p></td>
</tr>
</table>

<a name="ghqec"></a><h5>JVM Operating System Statistics</h5>
<a name="indexterm-460"></a><a name="indexterm-461"></a><p>Use the following dotted name pattern for JVM operating system statistics:</p><pre>server.jvm.operating-system.<i>statistic</i></pre><p>The statistics that are available for the operating system for the JVM machine
in Java SE are shown in the following table.</p><a name="gelog"></a><h6>Table&#160;10-14 JVM Statistics for Java SE Operating System</h6><table><col width="40%"><col width="59%"><tr><th align="left" valign="top" scope="column"><p>Statistic</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>arch-current</tt></p></td>
<td align="left" valign="top" scope="row"><p>Operating system architecture</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>availableprocessors-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of
processors available to the JVM</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>name-current</tt></p></td>
<td align="left" valign="top" scope="row"><p>Operating system name</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>version-current</tt></p></td>
<td align="left" valign="top" scope="row"><p>Operating system version</p></td>
</tr>
</table>

<a name="ghqby"></a><h5>JVM Runtime Statistics</h5>
<a name="indexterm-462"></a><a name="indexterm-463"></a><p>Use the following dotted name pattern for JVM runtime statistics:</p><pre>server.jvm.runtime.<i>statistic</i></pre><p>The statistics that are available for the runtime in the JVM runtime for
Java SE are shown in the following table.</p><a name="gelop"></a><h6>Table&#160;10-15 JVM Statistics for Java SE Runtime</h6><table><col width="40%"><col width="59%"><tr><th align="left" valign="top" scope="column"><p>Statistic</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>classpath-current</tt></p></td>
<td align="left" valign="top" scope="row"><p>Classpath that is used by
the system class loader to search for class files</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>inputarguments-current</tt></p></td>
<td align="left" valign="top" scope="row"><p>Input arguments passed to the
JVM; not including arguments to the <tt>main</tt> method</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>managementspecversion-current</tt></p></td>
<td align="left" valign="top" scope="row"><p>Management specification version implemented by
the JVM</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>name-current</tt></p></td>
<td align="left" valign="top" scope="row"><p>Name representing the running JVM</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>specname-current</tt></p></td>
<td align="left" valign="top" scope="row"><p>JVM specification name</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>specvendor-current</tt></p></td>
<td align="left" valign="top" scope="row"><p>JVM specification vendor</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>specversion-current</tt></p></td>
<td align="left" valign="top" scope="row"><p>JVM specification version</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>uptime-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Uptime
of the JVM (in milliseconds)</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>vmname-current</tt></p></td>
<td align="left" valign="top" scope="row"><p>JVM implementation name</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>vmvendor-current</tt></p></td>
<td align="left" valign="top" scope="row"><p>JVM implementation vendor</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>vmversion-current</tt></p></td>
<td align="left" valign="top" scope="row"><p>JVM implementation version</p></td>
</tr>
</table>

<a name="ablvf"></a><h5>Web Statistics</h5>
<p>The web container fits into the tree of objects as shown in
<a href="#ghlff">Web Tree Hierarchy</a>. </p><p>The available web statistics shown in the following sections:</p>
<ul><li><p><a href="#ghqge">Web JSP Statistics</a></p></li>
<li><p><a href="#ghqga">Web Request Statistics</a></p></li>
<li><p><a href="#ghqfu">Web Servlet Statistics</a></p></li>
<li><p><a href="#ghqfr">Web Session Statistics</a></p></li></ul>


<a name="ghqge"></a><h5>Web JSP Statistics</h5>
<a name="indexterm-464"></a><a name="indexterm-465"></a><p>Use the following dotted name pattern for web JSP statistics:</p><pre>server.web.jsp.<i>statistic</i></pre><p>The available web JSP statistics are shown in the following table.</p><a name="ghqip"></a><h6>Table&#160;10-16 Web JSP Statistics</h6><table><col width="46%"><col width="53%"><tr><th align="left" valign="top" scope="column"><p>Statistic</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>activejspsloadedcount-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of
currently loaded JSPs</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>maxjspsloadedcount-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Maximum number of JSPs loaded which were active</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>totaljspsloadedcount-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Cumulative number of
JSP pages that have been loaded into the web module</p></td>
</tr>
</table>

<a name="ghqga"></a><h5>Web Request Statistics</h5>
<a name="indexterm-466"></a><a name="indexterm-467"></a><p>Use the following dotted name pattern for web request statistics:</p><pre>server.web.request.<i>statistic</i></pre><p>The available web request statistics are shown in the following table.</p><a name="ghqht"></a><h6>Table&#160;10-17 Web Request Statistics</h6><table><col width="40%"><col width="59%"><tr><th align="left" valign="top" scope="column"><p>Statistic</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>errorcount-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Cumulative value
of the error count, with error count representing the number of cases where
the response code was greater than or equal to 400</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>maxtime-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Longest response time
for a request; not a cumulative value, but the largest response time from
among the response times</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>processingtime-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Cumulative value of the times taken to process each
request, with processing time being the average of request processing times over the
request count</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>requestcount-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Cumulative number of the requests processed so far</p></td>
</tr>
</table>

<a name="ghqfu"></a><h5>Web Servlet Statistics</h5>
<a name="indexterm-468"></a><a name="indexterm-469"></a><p>Use the following dotted name pattern for web servlet statistics:</p><pre>server.web.servlet.<i>statistic</i></pre><p>The available web servlet statistics are shown in the following table.</p><a name="ghqiu"></a><h6>Table&#160;10-18 Web Servlet Statistics</h6><table><col width="44%"><col width="55%"><tr><th align="left" valign="top" scope="column"><p>Statistic</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>activeservletsloadedcount-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of
currently loaded servlets</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>maxservletsloadedcount-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Maximum number of servlets loaded which were active</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>totalservletsloadedcount-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Cumulative number of
servlets that have been loaded into the web module</p></td>
</tr>
</table>

<a name="ghqfr"></a><h5>Web Session Statistics</h5>
<a name="indexterm-470"></a><a name="indexterm-471"></a><p>Use the following dotted name pattern for web session statistics:</p><pre>server.web.session.<i>statistic</i></pre><p>The available web session statistics are shown in the following table.</p><a name="gellc"></a><h6>Table&#160;10-19 Web Session Statistics</h6><table><col width="44%"><col width="55%"><tr><th align="left" valign="top" scope="column"><p>Statistic</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>activatedsessionstotal-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Total number
of activated sessions</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>activesessionscurrent-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of currently active sessions</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>activesessionshigh-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Maximum number of concurrently active sessions</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>expiredsessionstotal-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Total
number of expired sessions</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>passivatedsessionstotal-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Total number of passivated sessions</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>persistedsessionstotal-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Total number of persisted sessions</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>rejectedsessionstotal-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Total
number of rejected sessions</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>sessionstotal-count</tt></p></td>
<td align="left" valign="top" scope="row"><p>Total number of sessions created</p></td>
</tr>
</table>

<a name="ghmgl"></a><h3>Connecting JConsole to Enterprise Server</h3>
<a name="indexterm-472"></a><a name="indexterm-473"></a><p>Java SE 5 enhances management and monitoring of the virtual machine by including
a Platform MBean Server and by including managed beans (MBeans) to configure the
virtual machine. </p><p>To view all MBeans, Enterprise Server provides a configuration of the standard JMX
connector server called System JMX Connector Server. As part of Enterprise Server
startup, an instance of this JMX Connector Server is started. Any compliant JMX
Connector Client can connect to the server using the JMX Connector Server. </p><p>Java SE also provides tools to connect to an MBean Server and
view the MBeans registered with the server. JConsole is one such popular JMX
Connector Client and is available as part of the standard Java SE distribution.
By default, Enterprise Server is configured with a non-secure System JMX Connector Server
and cannot be enabled for v3 Prelude. If this is an issue, <tt>jms-connector</tt>
can be removed.</p><p>When you configure JConsole for use with Enterprise Server, Enterprise Server becomes the
JMX Connector's server end and JConsole becomes the JMX Connector's client end. </p>

<a name="ggpfh"></a><h4>To Set Up JConsole Connectivity</h4><a name="indexterm-474"></a><a name="indexterm-475"></a><p>This procedure describes how to connect JConsole to Enterprise Server. Security is not
enabled on the JMX Connector. </p><ol>
<li><b>Start the domain.</b><p>For instructions, see <a href="p5.html#ggoda">To Start a Domain (or Server)</a>.</p></li>
<li><b>Start JConsole using this format: <i>JDK_HOME</i><tt>/bin/jconsole</tt></b><p>For example:</p><pre><tt><b>/usr/java/bin/jconsole</b></tt></pre><p>The JConsole Connect to Agent window is displayed.</p></li>
<li><b>Click the Remote tab and type the host name and port.</b></li>
<li><b>Click Connect.</b></li>
<li><b>In the Remote Process text box, specify the JMX Service URL. </b><p>For example:</p><pre><tt><b>service:jmx:rmi:///jndi/rmi://localhost:8686/jmxrmi </b></tt></pre>
<hr><p><b>Note - </b>Another host name can be substituted for <tt>localhost</tt>. The default port number (8686)
could change if the <tt>jmx-connector</tt> configuration has been modified.</p>
<hr>
</li>
<li><b>Click Connect.</b><p>In the JConsole window you will see all your MBeans, JVM information, and
so on, in various tabs.</p></li>
<li><b>Browse Sun GlassFish v3 Prelude MBeans along with Platform MBeans.</b><p>Use either the Remote tab or the Advanced tab to connect to
the Enterprise Server.</p><dl><dt>Remote tab</dt>
<dd><p>Specify the user name, password, administration server host, and JMS port number (8686 by default), and then select Connect.</p></dd>
<dt>Advanced tab</dt>
<dd><p>Specify the <tt>JMXServiceURL</tt> as service: <tt>jmx:rmi:///jndi/rmi://host:jms-port/jmxrmi</tt>, and then select Connect. The <tt>JMXServerURL</tt> is printed in the <tt>server.log</tt> file and is displayed in the command window of the domain creation command.</p></dd>
</dl>
</li></ol><h6>See Also</h6><p>For more information on JConsole, see <a href="http://java.sun.com/javase/6/docs/technotes/guides/management/jconsole.html">http://java.sun.com/javase/6/docs/technotes/guides/management/jconsole.html</a>.</p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p12.html">Previous</a></td>
<td></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p14.html">Next</a></td>
</tr>
</table>



</body>
</html>

