<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<!-- GenHTML revision 23224-->
<meta http-equiv="Content-type" content="text/html; charset=utf-8">
<title>Administering the JavaMail Service - Sun GlassFish Enterprise Server v3 Administration Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2009-11-01">
</head>

<body>


<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&#160;</td>
<td><a href="p23.html">Previous</a></td>
<td></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p25.html">Next</a></td>
</tr>
</table>


<a name="ablkr"></a>Chapter&#160;18<h3>Administering the JavaMail Service</h3><a name="indexterm-872"></a><p>The Sun Java<sup>TM</sup> Enterprise Server includes the JavaMail API along with JavaMail service
providers that allow an application component to send email notifications over the Internet
and to read email from IMAP and POP3 mail servers. </p>
<hr><p><b>Note - </b>JavaMail resources are supported only in the Full Platform Profile for Enterprise Server,
not in the Web Profile.</p>
<hr>
<p>The following topics are addressed here:</p>
<ul><li><p><a href="#ggjsf">About JavaMail</a></p></li>
<li><p><a href="#giowr">Administering JavaMail Resources</a></p></li></ul>
<p>Instructions for accomplishing the tasks in this chapter by using the Administration
Console are contained in the Administration Console online help.</p>

<a name="ggjsf"></a><h3>About JavaMail</h3>
<a name="indexterm-873"></a><a name="indexterm-874"></a><p>The JavaMail API is a set of abstract APIs that model a
mail system. The JavaMail API provides a platform-independent and protocol-independent framework to build mail
and messaging applications and provide facilities for reading and sending electronic messages. Service
providers implement particular protocols. Using the API you can add email capabilities to
your applications. JavaMail provides access from Java applications to Internet Message Access Protocol (IMAP)
and Simple Mail Transfer Protocol (SMTP) capable mail servers on your network or
the Internet. The API does not provide mail server functionality; you must have
access to a mail server to use JavaMail.</p><p>The JavaMail API is implemented as an optional package in the Java
platform and is also available as part of the Java EE platform.</p><p>To learn more about the JavaMail API, consult the JavaMail web site at
<a href="http://java.sun.com/products/javamail/">http://java.sun.com/products/javamail/</a>.</p>

<a name="giowr"></a><h3>Administering JavaMail Resources</h3>
<p>When you create a mail session, the server-side components and applications are enabled
to access JavaMail services with JNDI, using the session properties you assign for
them. When creating a mail session, you can designate the mail hosts, the
transport and store protocols, and the default mail user so that components that
use JavaMail do not have to set these properties. Applications that are heavy
email users benefit because Enterprise Server creates a single session object and makes
the session available to any component that needs it.</p><p>JavaMail settings such as the following can be specified:</p>
<ul><li><p><b>JNDI Name.</b> The unique name for the mail session. Use the naming sub-context prefix mail/ for JavaMail resources. For example: <tt>mail/MySession</tt></p></li>
<li><p><b>Mail Host.</b> The host name of the default mail server. The connect methods of the store and transport objects use this value if a protocol-specific host property is not supplied. The name must be resolvable to an actual host name.</p></li>
<li><p><b>Default User.</b> The default user name to provide when connecting to a mail server. The connect methods of the store and transport objects use this value if a protocol-specific username property is not supplied.</p></li>
<li><p><b>Default Return Address.</b> The email address of the default user, in the form: <i>username@host.domain</i>.</p></li>
<li><p><b>Description.</b> A descriptive statement for the component.</p></li>
<li><p><b>Session.</b> Indicates whether or not mail session is enabled at this time</p></li></ul>
<p>The following topics are addressed here:</p>
<ul><li><p><a href="#giowd">To Create a JavaMail Resource</a></p></li>
<li><p><a href="#giowq">To List JavaMail Resources</a></p></li>
<li><p><a href="#giwjw">To Update a JavaMail Resource</a></p></li>
<li><p><a href="#gioxj">To Delete a JavaMail Resource</a></p></li></ul>


<a name="giowd"></a><h4>To Create a JavaMail Resource</h4><a name="indexterm-875"></a><a name="indexterm-876"></a><a name="indexterm-877"></a><p>Use the <tt>create-javamail-resource</tt> subcommand in remote mode to create a JavaMail session resource.
 The JNDI name for a JavaMail session resource customarily includes the mail/
naming subcontext, For example: <tt>mail/MyMailSession.</tt></p><ol>
<li><b>Ensure that the server is running.</b><p>Remote subcommands require a running server.</p></li>
<li><b>Create a JavaMail resource by using the <a href="http://docs.sun.com/doc/820-7701/create-javamail-resource-1?a=view"><tt>create-javamail-resource</tt>(1)</a> subcommand.</b><p>Information about the properties for this subcommand is included in this help page.</p></li>
<li><b>To apply your changes, restart Enterprise Server. </b><p>See <a href="p7.html#ginqj">To Restart a Domain</a>.</p></li></ol><a name="gipfs"></a><h6>Example&#160;18-1 Creating a JavaMail Resource</h6><p>This example creates a JavaMail resource named <tt>mail/MyMailSession</tt>. The escape character (\)
is used in the <tt>--fromaddress</tt> option to distinguish the dot (.) and
at sign (@). </p><pre>asadmin> <tt><b>create-javamail-resource --host fuyako --port 7070 --mailhost localhost --mailuser sample --fromaddress sample\@sun\.com mail/MyMailSession </b></tt>
Command create-javamail-resource executed successfully.</pre><h6>See Also</h6><p>You can also view the full syntax and options of the subcommand
by typing <tt>asadmin help create-javamail-resource</tt> at the command line.</p>

<a name="giowq"></a><h4>To List JavaMail Resources</h4><a name="indexterm-878"></a><a name="indexterm-879"></a><a name="indexterm-880"></a><p>Use the <tt>list-javamail-resources</tt> subcommand in remote mode to list the existing JavaMail session
resources. </p><ol>
<li><b>Ensure that the server is running.</b><p>Remote subcommands require a running server.</p></li>
<li><b>List the JavaMail resources by using the <a href="http://docs.sun.com/doc/820-7701/list-javamail-resources-1?a=view"><tt>list-javamail-resources</tt>(1)</a> subcommand.</b></li></ol><a name="gipfe"></a><h6>Example&#160;18-2 Listing JavaMail Resources</h6><p>This example lists the JavaMail resources on host <tt>pigeon</tt>:</p><pre>asadmin> <tt><b>list-javamail-resources --host pigeon --port 5001 </b></tt>
mail/MyMailSession
Command list-javamail-resources executed successfuly.</pre><h6>See Also</h6><p>You can also view the full syntax and options of the subcommands
by typing <tt>asadmin help list-javamail-resources</tt> at the command line.</p>

<a name="giwjw"></a><h4>To Update a JavaMail Resource</h4><a name="indexterm-881"></a><a name="indexterm-882"></a><a name="indexterm-883"></a><a name="indexterm-884"></a><ol>
<li><b>List the JavaMail resources by using the <a href="http://docs.sun.com/doc/820-7701/list-javamail-resources-1?a=view"><tt>list-javamail-resources</tt>(1)</a> subcommand.</b></li>
<li><b>Modify the values for the specified JavaMail source by using the <a href="http://docs.sun.com/doc/820-7701/set-1?a=view"><tt>set</tt>(1)</a>
subcommand.</b><p>The resource is identified by its dotted name.</p></li></ol><a name="giwjb"></a><h6>Example&#160;18-3 Updating a JavaMail Resource</h6><p>tbd</p>

<a name="gioxj"></a><h4>To Delete a JavaMail Resource</h4><a name="indexterm-885"></a><a name="indexterm-886"></a><a name="indexterm-887"></a><p>Use the <tt>delete-javamail-resource</tt> subcommands in remote mode to delete a JavaMail session resource.
</p><h6>Before You Begin</h6><p>References to the specified resource must be removed before running the <tt>delete-javamail-resource</tt> subcommands.</p><ol>
<li><b>Ensure that the server is running.</b><p>Remote subcommands require a running server.</p></li>
<li><b>List the JavaMail resources by using the <a href="http://docs.sun.com/doc/820-7701/list-javamail-resources-1?a=view"><tt>list-javamail-resources</tt>(1)</a> subcommands.</b></li>
<li><b>Delete a JavaMail resource by using the <a href="http://docs.sun.com/doc/820-7701/delete-javamail-resource-1?a=view"><tt>delete-javamail-resource</tt>(1)</a> subcommands.</b></li>
<li><b>To apply your changes, restart Enterprise Server. </b><p>See <a href="p7.html#ginqj">To Restart a Domain</a>.</p></li></ol><a name="gipcd"></a><h6>Example&#160;18-4 Deleting a JavaMail Resource</h6><p>This example deletes the JavaMail session resource named <tt>mail/MyMailSession</tt>: </p><pre>asadmin> <tt><b>delete-javamail-resource --host fuyako --port 7070 mail/MyMailSession </b></tt>
Command delete-javamail-resource executed successfully.</pre><h6>See Also</h6><p>You can also view the full syntax and options of the subcommand
by typing <tt>asadmin help delete-javamail-resource</tt> at the command line.</p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p23.html">Previous</a></td>
<td></td>
<td><a href="idx-1.html">Index</a></td>
<td><a href="p25.html">Next</a></td>
</tr>
</table>



</body>
</html>

