<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=utf-8">
<title>Deploying an Application - Sun Java System Application Server 9.1 Quick Start Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-11-01">
</head>

<body>


<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="5"></td></tr>
<tr>
<td></td>
<td style="width: 60%">&#160;</td>
<td><a href="p5.html">Previous</a></td>
<td></td>
<td></td>
<td><a href="p7.html">Next</a></td>
</tr>
</table>


<a name="gehqs"></a>Chapter&#160;3<h3>Deploying an Application</h3><p>This chapter explains how to deploy an application. If you are running a
domain with developer profile, see <a href="#geyvr">Deploying a Sample Web Application</a>. If you are running a domain
with cluster profile, see <a href="#gehri">Deploying the Sample Enterprise Application to a Cluster</a>.</p><p>This chapter presents the following sections:</p>
<ul><li><p><a href="#geyvr">Deploying a Sample Web Application</a></p></li>
<li><p><a href="#gehri">Deploying the Sample Enterprise Application to a Cluster</a></p></li>
<li><p><a href="#fvkgx">To Start the Instances in a Cluster</a></p></li>
<li><p><a href="#fvjep">To Verify Application Deployment</a></p></li></ul>


<a name="geyvr"></a><h3>Deploying a Sample Web Application</h3>
<p>These procedures assume that you are running a domain with developer profile.</p>

<a name="geyvj"></a><h4>To Deploy the Hello Application Using Autodeploy</h4><p>The server installation includes a pre-packaged application that says &#8220;Hello,&#8221; taken from <i><i><a href="http://java.sun.com/javaee/5/docs/tutorial/doc/index.html">The Java EE 5 Tutorial</a></i></i>.
The Hello application is contained in a Web ARchive (WAR) file in the
<tt>samples/quickstart</tt> directory. Packaged applications can also be in the form of a Java
ARchive (JAR) or Enterprise ARchive (EAR) file.</p><p>Alternatively, you can download this application from The Java EE 5 Tutorial or
from <a href="http://glasfish.dev.java.net/downloads/quickstart/hello.war">http://glasfish.dev.java.net/downloads/quickstart/hello.war</a>. </p><p>Copying to a domain&#8217;s <tt>autodeploy</tt> directory lets you put a pre-packaged application into
use immediately, with minimal effort.</p><ol>
<li><b>Find <i>as-install</i><tt>/samples/quickstart/hello.war</tt> or download from <a href="http://glasfish.dev.java.net/downloads/quickstart/hello.war">http://glasfish.dev.java.net/downloads/quickstart/hello.war</a>.</b></li>
<li><b>Copy <tt>hello.war</tt> to the <i>as-install</i><tt>/domains/domain1/autodeploy/</tt> directory.</b>
<hr><p><b>Tip - </b>On Windows, you can create a shortcut to the <tt>autodeploy</tt> directory on your
desktop, and then drag and drop the <tt>hello.war</tt> file onto the shortcut.</p>
<hr>
<p>When the server has finished deploying the application, it creates a file named
<tt>hello.war_deployed</tt> in the <tt>autodeploy</tt> directory. Depending on the speed of your system, the
process can take a few seconds. Until that file appears, a <tt>404-File</tt> <tt>Not</tt>
<tt>Found</tt> error occurs when you try to visit the application page.</p></li>
<li><b>Access this URL to visit the application page: <tt>http://</tt><i>localhost</i><tt>:4848/hello</tt>.</b><p>You see the application&#8217;s first page, which prompts you to fill in your
name:</p><br><img src="figures/Greeting.gif" alt="Displays message: Hi, my name is Duke. What's yours?" width="664" height="327"></img></li>
<li><b>Type your name and click Submit.</b><p>The application displays a customized response, giving you a personal <tt>Hello</tt>.</p></li></ol>

<a name="geyxd"></a><h4>To Deploy the Hello Application Using Admin Console</h4><ol>
<li><b>Open <tt>http://</tt><i>localhost</i><tt>:4848/asadmin</tt> in a web browser.</b>
<ul><li><p><i>localhost</i> is used if the both the browser and the Application Server are running on the same system. If the Application Server is running on another system, substitute the name of that system in the URL.</p></li>
<li><p>4848 is the Admin Console&#8217;s default port number. If you changed the port number during the installation, use that number instead.</p></li></ul>
</li>
<li><b>Enter the admin user name and password.</b></li>
<li><b>In the left pane, click the Applications node to expand it.</b></li>
<li><b>Click Web Applications.</b><p>You can see the list of deployed web applications, if any.</p></li>
<li><b>If you already have a Hello application deployed, undeploy it now by selecting
the checkbox next to it and clicking Undeploy. </b></li>
<li><b>Click Deploy.</b></li>
<li><b>You can use the Hello application bundled with the Application Server or you
upload the sample you have downloaded from <a href="http://glasfish.dev.java.net/downloads/quickstart/hello.war">http://glasfish.dev.java.net/downloads/quickstart/hello.war</a>. Do one of the following:</b><ul>
<li><b>Select the option called Local packaged file or directory that is accessible to
Application Server and click Browse Files. Navigate to the <i>as-install</i><tt>/samples/quickstart</tt> directory and
select <tt>hello.war</tt>. </b></li></ul></li>
<li><b>If you have downloaded the Hello application Select the Package file to upload
to the Application Server option and click Browse. Navigate to the directory to
which you have downloaded the application.</b></li>
<li><b>Click OK.</b><p>The application appears in the Web Applications list. </p></li>
<li><b>To verify that it was deployed properly, in the Web Applications page, select
the Hello application and click Launch.</b></li></ol><h6>More Information<br>Deploying Applications Using CLI Commands</h6><p>You can deploy applications using the <tt>asadmin deploy</tt> command. See <a href="http://docs.sun.com/doc/819-3675/deploy-1?a=view"><tt>deploy</tt>(1)</a> in the <a href="http://docs.sun.com/doc/819-3675"><i>Sun Java System Application Server 9.1 Reference Manual</i></a>. You
can also use the <tt>asant</tt> commands for deployment. For detailed information on deploying applications
see <a href="http://docs.sun.com/doc/819-3673/beadu?a=view">Deploying Modules and Applications in <i>Sun Java System Application Server 9.1 Application Deployment Guide</i></a>.</p>

<a name="gehri"></a><h3>Deploying the Sample Enterprise Application to a Cluster</h3>
<p>These procedures assume that you are running a domain with cluster profile. The
procedures in this chapter assume that you have already created a cluster called
<tt>cluster1</tt>, as described in <a href="p5.html">Chapter&#160;2, Setting Up a Cluster</a>. </p><p> This sample application is provided to demonstrate the clustering capabilities using session
information. One has to exercise caution for use in production.</p>

<a name="fvkdy"></a><h4>To Deploy the Sample Enterprise Application Using Admin Console</h4><ol>
<li><b>Click the Home button or click Common Tasks on the left pane
to go to the Common Tasks page, if you are not there already.</b></li>
<li><b>On the right pane, under Common Tasks, click Deploy Enterprise Application (.ear).</b></li>
<li><b>If application server is installed on your local machine, click Browse in the
Packaged File to Upload text box, and navigate to <i>as-install</i><tt>/samples/ee-samples/highavailability/apps/clusterjsp/clusterjsp.ear</tt>. If you
are accessing Admin Console remotely with application server installed on another machine, click
Browse in the Local packaged file or directory that is accessible from the
Application Server text box. Navigate to <i>as-install</i><tt>/samples/quickstart/clusterjsp/clusterjsp.ear</tt>.</b></li>
<li><b>In the Targets section of the page, select <tt>cluster1</tt> from the Available list,
and click Add to move it to the Selected list.</b></li>
<li><b>Click OK.</b><p>The <tt>clusterjsp</tt> application is now deployed to <tt>cluster1</tt>. Before you launch this application, you
need to start the instances in the cluster. See <a href="#fvkgx">To Start the Instances in a Cluster</a></p></li></ol><h6>More Information<br>Deploying Applications Using CLI Commands</h6><p>You can deploy applications using the <tt>asadmin deploy</tt> command. See <a href="http://docs.sun.com/doc/819-3675/deploy-1?a=view"><tt>deploy</tt>(1)</a> in the <a href="http://docs.sun.com/doc/819-3675"><i>Sun Java System Application Server 9.1 Reference Manual</i></a>. You
can also use the <tt>asant</tt> commands for deployment. For detailed information on deploying applications
see <a href="http://docs.sun.com/doc/819-3673/beadu?a=view">Deploying Modules and Applications in <i>Sun Java System Application Server 9.1 Application Deployment Guide</i></a>.</p>

<a name="fvkgx"></a><h4>To Start the Instances in a Cluster</h4><p>Before you launch the deployed application, you need to start the instances in
the cluster.</p><ol>
<li><b>In the tree on the left pane, click Clusters, and click the
<tt>cluster1</tt> node.</b></li>
<li><b>In the right pane, navigate to the General tab if it is
not already active.</b></li>
<li><b>If the instances are not already running, the Start Instances button is active.
Click it to start the cluster's instances.</b></li>
<li><b>Verify that they have started by checking the Status field, which indicates how
many instances are running.</b><p>You are now ready to launch the application. See <a href="#fvkgx">To Start the Instances in a Cluster</a></p></li></ol><h6>More Information<br>Starting Instances Using CLI Command</h6><p>You can start instances by using the <tt>asadmin start-intance</tt> command. See in the <a href="http://docs.sun.com/doc/819-3675"><i>Sun Java System Application Server 9.1 Reference Manual</i></a>.</p>

<a name="fvjep"></a><h4>To Verify Application Deployment</h4><ol>
<li><b>Type the following URL in your browser:</b><p><tt>http://</tt><i>localhost</i><tt>:</tt><i>port</i><tt>/clusterjsp</tt></p><p>Replace the <i>localhost</i> variable with the name of the system that the Domain
Admin Server is running on.</p><p>Replace the <i>port</i> variable with the value of <tt>HTTP-LISTENER-PORT</tt>  for <tt>instance1</tt>. This example
uses <tt>http://</tt><i>localhost</i><tt>:38081/clusterjsp</tt>.</p></li>
<li><b>Add some session attribute data.</b></li>
<li><b>Examine the Session and Host information displayed. For example:</b>
<ul><li><p><tt>Executed From Server:</tt> <i>localhost</i></p></li>
<li><p><tt>Server Port Number: 38081</tt></p></li>
<li><p><tt>Executed Server IP Address: 198.19.255.255</tt></p></li>
<li><p><tt>Session Created: Tue Aug 23 15:26:07 PDT 2005</tt></p></li></ul>
</li>
<li><b>Add some session data and click the Add to Session button.</b></li>
<li><b>Repeat this procedure for instance <tt>instance2</tt> by typing this URL in your browser:</b><p><tt>http://</tt><i>localhost</i> <tt>:38080/clusterjsp</tt></p></li></ol><h6>Next Steps</h6><p>Congratulations! You have completed this section of the <i>Quick Start Guide.</i> You can stop
the Quick Start trail here if you do not wish to proceed to
the steps on load balancing. </p>


<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p5.html">Previous</a></td>
<td></td>
<td></td>
<td><a href="p7.html">Next</a></td>
</tr>
</table>



</body>
</html>

